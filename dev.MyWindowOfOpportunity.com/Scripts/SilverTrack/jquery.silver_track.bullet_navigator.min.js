/*!
 * jQuery SilverTrack
 * https://github.com/tulios/jquery.silver_track
 * version: 0.4.0
 *
 * Bullet Navigator
 * version: 0.1.1
 *
 */
(function(n){n.silverTrackPlugin("BulletNavigator",{defaults:{bulletClass:"bullet",activeClass:"active"},initialize:function(n){this.track=null;this.options=n;this.container=this.options.container},onInstall:function(n){this.track=n},afterStart:function(){this._createBullets();this._getBulletByPage(1).addClass(this.options.activeClass);this._setupBulletClick()},afterAnimation:function(){this._setupBulletClick()},beforePagination:function(n,t){var i=this._getBulletByPage(t.page);this._updateBullets(i)},afterRestart:function(){this._clearBullets();this._createBullets();var n=this._getBulletByPage(this.track.currentPage);this._updateBullets(n);this._setupBulletClick()},onTotalPagesUpdate:function(){this._clearBullets();this._createBullets();this._getBullets().click(function(n){n.preventDefault()})},_clearBullets:function(){n("."+this.options.bulletClass,this.container).remove()},_createBullets:function(){for(var n=0;n<this.track.totalPages;n++)this.container.append(this._createBullet(n+1))},_setupBulletClick:function(){var t=this,i=this._getBullets();i.click(function(r){r.preventDefault();var u=n(this);t._updateBullets(u);t.track.goToPage(u.data("page"));i.unbind("click")})},_updateBullets:function(n){this._getBullets().removeClass(this.options.activeClass);n.addClass(this.options.activeClass)},_getBulletByPage:function(t){return n("."+this.options.bulletClass+"[data-page='"+t+"']",this.container)},_getBullets:function(){return n("."+this.options.bulletClass,this.container)},_createBullet:function(t){return n("<a><\/a>",{"class":this.options.bulletClass,"data-page":t,href:"#"})}})})(jQuery,window,document);