!function(n){function e(n){if("string"==typeof n){var t=n.indexOf("_");-1!=t&&(n=n.substr(t+1))}return n}function t(t,i){t.preventDefault();void 0===i&&(i=n(this));var f=e(i.attr("data-id")),r=u[f];r.next.off();r.prev.off();r.viewport.off("touchend");"yes"===r.options.autoscroll&&n.fn.als("stop",f);n.fn.als("next",f);"yes"===r.options.autoscroll&&n.fn.als("start",f)}function i(t,i){t.preventDefault();void 0===i&&(i=n(this));var f=e(i.attr("data-id")),r=u[f];r.prev.off();r.next.off();r.viewport.off("touchend");"yes"===r.options.autoscroll&&n.fn.als("stop",f);n.fn.als("prev",f);"yes"===r.options.autoscroll&&n.fn.als("start",f)}var u=[],f=0,o={init:function(e){this.each(function(){var h=n(this),et=h.data("als"),o=n(),c=n(),v=n(),l=n(),p=n(),w=n(),a=0,b=0,rt=0,k=0,ut=0,d=0,g=0,nt=0,y=0,tt=0,ft=0,s={},ot,it,st;switch(s.swipeTreshold=100,s.allowedTime=300,o=n.extend({visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4e3,speed:600,easing:"swing",direction:"left",start_from:0},e),"no"==o.circular&&"yes"==o.autoscroll&&(o.circular="yes"),("linear"!=o.easing||"swing"!=o.easing)&&(o.easing="swing"),h.attr("id")&&""!=h.attr("id")||h.attr("id","als-container_"+f),h.attr("data-id","als-container_"+f),l=h.find(".als-viewport").attr("data-id","als-viewport_"+f),v=h.find(".als-wrapper").attr("data-id","als-wrapper_"+f),c=h.find(".als-item"),a=c.size(),o.visible_items>a&&(o.visible_items=a-1),o.scrolling_items>o.visible_items&&(o.visible_items>1?o.scrolling_items=o.visible_items-1:1===o.visible_items&&(o.scrolling_items=o.visible_items)),o.start_from>a-o.visible_items&&(o.start_from=0),p=h.find(".als-prev").attr("data-id","als-prev_"+f),w=h.find(".als-next").attr("data-id","als-next_"+f),o.orientation){case"horizontal":default:if(c.each(function(t){n(this).attr("id","als-item_"+f+"_"+t);rt+=n(this).outerWidth(!0);n(this).outerHeight(!0)>g&&(g=n(this).outerHeight(!0));y<o.visible_items&&(0==o.start_from?(b+=n(this).outerWidth(!0),y++):t>=o.start_from&&(b+=n(this).outerWidth(!0),y++));0!=o.start_from&&(tt<o.start_from&&(d+=n(this).outerWidth(!0),tt++),ft=o.start_from)}),v.css("width",rt),c.css("left",-d),l.css("width",b),v.css("height",g),l.css("height",g),"yes"==o.circular&&0!=o.start_from)for(r=0;r<o.start_from;r++)it=c.last().position(),ot=it.left+c.last().outerWidth(!0),c.eq(r).css("left",ot);break;case"vertical":if(c.each(function(t){n(this).attr("id","als-item_"+f+"_"+t);ut+=n(this).outerHeight(!0);n(this).outerWidth(!0)>nt&&(nt=n(this).outerWidth(!0));y<o.visible_items&&(0==o.start_from?(k+=n(this).outerHeight(!0),y++):t>=o.start_from&&(k+=n(this).outerHeight(!0),y++));0!=o.start_from&&(tt<o.start_from&&(d+=n(this).outerHeight(!0),tt++),ft=o.start_from)}),v.css("height",ut),c.css("top",-d),l.css("height",k),v.css("width",nt),l.css("width",nt),"yes"==o.circular&&0!=o.start_from)for(r=0;r<o.start_from;r++)it=c.last().position(),st=it.top+c.last().outerHeight(!0),c.eq(r).css("top",st)}return"no"==o.circular&&(0==o.start_from&&p.css("display","none"),o.visible_items+o.start_from==a&&w.css("display","none")),w.on("click touchstart touchend",t),p.on("click touchstart touchend",i),l.on("touchstart",function(n){var t;t=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];s.ox=t.pageX;s.oy=t.pageY;s.startTime=(new Date).getTime()}),l.on("touchmove",function(){}),l.on("touchend",function(n){var r;r=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];s.dx=r.pageX-s.ox;s.dy=r.pageY-s.oy;s.endTime=(new Date).getTime()-s.startTime;"horizontal"==o.orientation?s.dx<-s.swipeTreshold&&s.endTime<s.allowedTime?("yes"==o.circular||o.visible_items+o.start_from<a)&&t(n,l):s.dx>s.swipeTreshold&&s.endTime<s.allowedTime&&("yes"==o.circular||o.start_from>0)&&i(n,l):s.dy<-s.swipeTreshold&&s.endTime<s.allowedTime?("yes"==o.circular||o.visible_items+o.start_from<a)&&t(n,l):s.dy>s.swipeTreshold&&s.endTime<s.allowedTime&&("yes"==o.circular||o.start_from>0)&&i(n,l)}),h.data("als",{container:h,instance:f,options:o,viewport:l,wrapper:v,prev:p,next:w,item:c,num_items:a,wrapper_width:rt,viewport_width:b,wrapper_height:ut,viewport_height:k,current:ft,timer:0,mm:s}),et=h.data("als"),u[f]=et,"yes"==o.autoscroll?(n.fn.als("start",f),v.hover(function(){n.fn.als("stop",n(this).attr("data-id"))},function(){n.fn.als("start",n(this).attr("data-id"))})):"no"==o.autoscroll&&n.fn.als("stop",f),f++,u})},next:function(n){var v,y,p,w,l,h,c,a;n=e(n);var r=u[n],f=r.mm,o=0,s=0;switch(r.options.orientation){case"horizontal":default:v=0;y=0;switch(r.options.circular){case"no":default:for(o=r.current;o<r.current+r.options.scrolling_items;o++)v+=r.item.eq(o).outerWidth(!0);for(r.current+=r.options.scrolling_items,s=r.current;s<r.current+r.options.visible_items;s++)y+=r.item.eq(s).outerWidth(!0);r.viewport.animate({width:y},r.options.speed,r.options.easing);r.item.animate({left:"-="+v},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport)})});r.current>0&&r.prev.show();r.current+r.options.visible_items>=r.num_items&&r.next.hide();break;case"yes":for(l=0,h=[],o=r.current;o<r.current+r.options.scrolling_items;o++)c=o,o>=r.num_items&&(c=o-r.num_items),v+=r.item.eq(c).outerWidth(!0),h[l]=c,l++;for(r.current+=r.options.scrolling_items,r.current>=r.num_items&&(r.current-=r.num_items),s=r.current;s<r.current+r.options.visible_items;s++)a=s,s>=r.num_items&&(a=s-r.num_items),y+=r.item.eq(a).outerWidth(!0);r.viewport.animate({width:y},r.options.speed,r.options.easing);r.item.animate({left:"-="+v},r.options.speed,r.options.easing);r.item.promise().done(function(){var n=r.item.last().position(),u=n.left+r.item.last().outerWidth(!0);for(k5=0;k5<h.length;k5++)0==h[k5]&&(n=r.item.last().position(),u=n.left+r.item.last().outerWidth(!0)),r.item.eq(h[k5]).css("left",u);r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport)})})}break;case"vertical":p=0;w=0;switch(r.options.circular){case"no":default:for(o=r.current;o<r.current+r.options.scrolling_items;o++)p+=r.item.eq(o).outerHeight(!0);for(r.current+=r.options.scrolling_items,s=r.current;s<r.current+r.options.visible_items;s++)w+=r.item.eq(s).outerHeight(!0);r.viewport.animate({height:w},r.options.speed,r.options.easing);r.item.animate({top:"-="+p},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport)})});r.current>0&&r.prev.show();r.current+r.options.visible_items>=r.num_items&&r.next.hide();break;case"yes":for(l=0,h=[],o=r.current;o<r.current+r.options.scrolling_items;o++)c=o,o>=r.num_items&&(c=o-r.num_items),p+=r.item.eq(c).outerHeight(!0),h[l]=c,l++;for(r.current+=r.options.scrolling_items,r.current>=r.num_items&&(r.current-=r.num_items),s=r.current;s<r.current+r.options.visible_items;s++)a=s,s>=r.num_items&&(a=s-r.num_items),w+=r.item.eq(a).outerHeight(!0);r.viewport.animate({height:w});r.item.animate({top:"-="+p});r.item.promise().done(function(){var n=r.item.last().position(),u=n.top+r.item.last().outerHeight(!0);for(k5=0;k5<h.length;k5++)0==h[k5]&&(n=r.item.last().position(),u=n.top+r.item.last().outerHeight(!0)),r.item.eq(h[k5]).css("top",u);r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport)})})}}return u[n]=r,u},prev:function(n){var v,y,d,g,p,w,l,h,c,a,b,nt,k,tt;n=e(n);var r=u[n],f=r.mm,o=0,s=0;switch(r.options.orientation){case"horizontal":default:v=0;y=0;switch(r.options.circular){case"no":default:for(r.current-=r.options.scrolling_items,o=r.current;o<r.current+r.options.scrolling_items;o++)v+=r.item.eq(o).outerWidth(!0);for(s=r.current;s<r.current+r.options.visible_items;s++)y+=r.item.eq(s).outerWidth(!0);r.viewport.animate({width:y});r.item.animate({left:"+="+v},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport)})});r.current<=0&&r.prev.hide();r.current+r.options.visible_items<r.num_items&&r.next.show();break;case"yes":for(l=0,h=[],r.current-=r.options.scrolling_items,r.current<0&&(r.current+=r.num_items),o=r.current;o<r.current+r.options.scrolling_items;o++)c=o,o>=r.num_items&&(c=o-r.num_items),v+=r.item.eq(c).outerWidth(!0),h[l]=c,l++;for(s=r.current;s<r.current+r.options.visible_items;s++)a=s,s>=r.num_items&&(a=s-r.num_items),y+=r.item.eq(a).outerWidth(!0);for(b=r.item.first().position(),d=b.left-r.wrapper_width,k5=0;k5<h.length;k5++)if(r.item.eq(h[k5]).css("left",d),0==h[k5])for(k=r.item.eq(0).position(),g=k.left-r.wrapper_width,k6=0;k5>k6;k6++)r.item.eq(h[k6]).css("left",g);setTimeout(function(){r.viewport.animate({width:y});r.item.animate({left:"+="+v},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport)})})},200)}break;case"vertical":p=0;w=0;switch(r.options.circular){case"no":default:for(r.current-=r.options.scrolling_items,o=r.current;o<r.current+r.options.scrolling_items;o++)p+=r.item.eq(o).outerHeight(!0);for(s=r.current;s<r.current+r.options.visible_items;s++)w+=r.item.eq(s).outerHeight(!0);r.viewport.animate({height:w});r.item.animate({top:"+="+p},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?r.current+r.options.visible_items<r.num_items&&t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&r.current>0&&i(n,r.viewport)})});r.current<=0&&r.prev.hide();r.current+r.options.visible_items<r.num_items&&r.next.show();break;case"yes":for(l=0,h=[],r.current-=r.options.scrolling_items,r.current<0&&(r.current+=r.num_items),o=r.current;o<r.current+r.options.scrolling_items;o++)c=o,o>=r.num_items&&(c=o-r.num_items),p+=r.item.eq(c).outerHeight(!0),h[l]=c,l++;for(s=r.current;s<r.current+r.options.visible_items;s++)a=s,s>=r.num_items&&(a=s-r.num_items),w+=r.item.eq(a).outerHeight(!0);for(b=r.item.first().position(),nt=b.top-r.wrapper_height,k5=0;k5<h.length;k5++)if(r.item.eq(h[k5]).css("top",nt),0==h[k5])for(k=r.item.eq(0).position(),tt=k.top-r.wrapper_height,k6=0;k5>k6;k6++)r.item.eq(h[k6]).css("top",tt);setTimeout(function(){r.viewport.animate({height:w},r.options.speed,r.options.easing);r.item.animate({top:"+="+p},r.options.speed,r.options.easing);r.item.promise().done(function(){r.next.on("click touchstart touchend",t);r.prev.on("click touchstart touchend",i);r.viewport.on("touchend",function(n){var u;u=void 0==n.originalEvent.touches?n:n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];f.dx=u.pageX-f.ox;f.dy=u.pageY-f.oy;f.endTime=(new Date).getTime()-f.startTime;"horizontal"==r.options.orientation?f.dx<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dx>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport):f.dy<-f.swipeTreshold&&f.endTime<f.allowedTime?t(n,r.viewport):f.dy>f.swipeTreshold&&f.endTime<f.allowedTime&&i(n,r.viewport)})})},200)}}return u[n]=r,u},start:function(t){t=e(t);var i=u[t];switch(0!=i.timer&&clearInterval(i.timer),i.options.direction){case"left":case"up":default:i.timer=setInterval(function(){i.next.off();i.prev.off();i.viewport.off("touchend");n.fn.als("next",t)},i.options.interval);break;case"right":case"down":i.timer=setInterval(function(){i.prev.off();i.next.off();i.viewport.off("touchend");n.fn.als("prev",t)},i.options.interval)}return u[t]=i,u},stop:function(n){n=e(n);var t=u[n];return clearInterval(t.timer),u[n]=t,u},destroy:function(){id=e(n(this).attr("data-id"));var t=u[id];t.prev.off();t.next.off();t.viewport.off();n.fn.als("stop",id);n.removeData(t,"als");this.unbind();this.element=null}};n.fn.als=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery.als"):o.init.apply(this,arguments)}}(jQuery);