/*!
 * VERSION: 0.1.6
 * DATE: 2014-07-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope=typeof module!="undefined"&&module.exports&&typeof global!="undefined"?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var h=/(\d|\.)+/g,r,u,c=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],f={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},o=function(n){return n===""||n==null||n==="none"?f.transparent:f[n]?f[n]:typeof n=="number"?[n>>16,n>>8&255,n&255]:n.charAt(0)==="#"?(n.length===4&&(n="#"+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2)+n.charAt(3)+n.charAt(3)),n=parseInt(n.substr(1),16),[n>>16,n>>8&255,n&255]):n.match(h)||f.transparent},l=function(n,t,i){if(!r&&(r=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!r))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var l=n.filters||[],h=l.length,a,s,u,e,f;--h>-1;)if(l[h]instanceof r){s=l[h];break}if(s||(s=new r,l.push(s),n.filters=l),u=s.clone(),t.tint!=null)a=o(t.tint),e=t.tintAmount!=null?Number(t.tintAmount):1,u.redOffset=Number(a[0])*e,u.greenOffset=Number(a[1])*e,u.blueOffset=Number(a[2])*e,u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1-e;else for(f in t)f!=="exposure"&&f!=="brightness"&&(u[f]=Number(t[f]));for(t.exposure!=null?(u.redOffset=u.greenOffset=u.blueOffset=255*(Number(t.exposure)-1),u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1):t.brightness!=null&&(e=Number(t.brightness)-1,u.redOffset=u.greenOffset=u.blueOffset=e>0?e*255:0,u.redMultiplier=u.greenMultiplier=u.blueMultiplier=1-Math.abs(e)),h=8;--h>-1;)f=c[h],s[f]!==u[f]&&i._addTween(s,f,s[f],u[f],"easel_colorFilter");if(i._overwriteProps.push("easel_colorFilter"),!n.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+n;},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n=.212671,t=.71516,i=.072169,e=function(n,t){if(!(n instanceof Array)||!(t instanceof Array))return t;for(var f=[],r=0,e=0,i,u=0;u<4;u++){for(i=0;i<5;i++)e=i===4?n[r+4]:0,f[r+i]=n[r]*t[i]+n[r+1]*t[i+5]+n[r+2]*t[i+10]+n[r+3]*t[i+15]+e;r+=5}return f},a=function(r,u){if(isNaN(u))return r;var f=1-u,o=f*n,s=f*t,h=f*i;return e([o+u,s,h,0,0,o,s+u,h,0,0,o,s,h+u,0,0,0,0,0,1,0],r)},v=function(r,u,f){isNaN(f)&&(f=1);var s=o(u),h=s[0]/255,c=s[1]/255,l=s[2]/255,a=1-f;return e([a+f*h*n,f*h*t,f*h*i,0,0,f*c*n,a+f*c*t,f*c*i,0,0,f*l*n,f*l*t,a+f*l*i,0,0,0,0,0,1,0],r)},y=function(r,u){if(isNaN(u))return r;u*=Math.PI/180;var f=Math.cos(u),o=Math.sin(u);return e([n+f*(1-n)+o*-n,t+f*-t+o*-t,i+f*-i+o*(1-i),0,0,n+f*-n+o*.143,t+f*(1-t)+o*.14,i+f*-i+o*-.283,0,0,n+f*-n+o*-(1-n),t+f*-t+o*t,i+f*(1-i)+o*i,0,0,0,0,0,1,0,0,0,0,0,1],r)},p=function(n,t){return isNaN(t)?n:(t+=.01,e([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],n))},w=function(n,t,i){if(!u&&(u=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!u))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var e=n.filters||[],f=e.length,r,o,h;--f>-1;)if(e[f]instanceof u){h=e[f];break}for(h||(h=new u(s.slice()),e.push(h),n.filters=e),o=h.matrix,r=s.slice(),t.colorize!=null&&(r=v(r,t.colorize,Number(t.colorizeAmount))),t.contrast!=null&&(r=p(r,Number(t.contrast))),t.hue!=null&&(r=y(r,Number(t.hue))),t.saturation!=null&&(r=a(r,Number(t.saturation))),f=r.length;--f>-1;)r[f]!==o[f]&&i._addTween(o,f,o[f],r[f],"easel_colorMatrixFilter");if(i._overwriteProps.push("easel_colorMatrixFilter"),!n.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+n;i._matrix=o};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.1.6",API:2,init:function(n,t){this._target=n;var i,r,u,f;for(i in t)i==="colorFilter"||i==="tint"||i==="tintAmount"||i==="exposure"||i==="brightness"?u||(l(n,t.colorFilter||t,this),u=!0):i==="saturation"||i==="contrast"||i==="hue"||i==="colorize"||i==="colorizeAmount"?f||(w(n,t.colorMatrixFilter||t,this),f=!0):i==="frame"?(this._firstPT=r={_next:this._firstPT,t:n,p:"gotoAndStop",s:n.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},r.c=typeof t[i]=="number"?t[i]-r.s:typeof t[i]=="string"?parseFloat(t[i].split("=").join("")):0,r._next&&(r._next._prev=r)):n[i]!=null&&(this._firstPT=r={_next:this._firstPT,t:n,p:i,f:typeof n[i]=="function",n:i,pr:0,type:0},r.s=r.f?n[i.indexOf("set")||typeof n["get"+i.substr(3)]!="function"?i:"get"+i.substr(3)]():parseFloat(n[i]),r.c=typeof t[i]=="number"?t[i]-r.s:typeof t[i]=="string"?parseFloat(t[i].split("=").join("")):0,r._next&&(r._next._prev=r));return!0},set:function(n){for(var t=this._firstPT,r=1e-6,i;t;)i=t.c*n+t.s,t.r?i=Math.round(i):i<r&&i>-r&&(i=0),t.f?t.t[t.p](i):t.t[t.p]=i,t=t._next;this._target.cacheID&&this._target.updateCache()}})});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();